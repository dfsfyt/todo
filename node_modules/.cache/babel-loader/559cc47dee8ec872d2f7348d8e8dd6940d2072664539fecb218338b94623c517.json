{"ast":null,"code":"var _jsxFileName = \"/Users/venus/Downloads/Code/todo/src/todo/index.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Alert, Dialog, DialogActions, DialogContent, DialogContentText } from \"@mui/material\";\nimport CheckIcon from \"@mui/icons-material/Check\";\nimport TodoInput from \"./TodoInput\";\nimport TodoList from \"./TodoList\";\nimport \"./index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Index = () => {\n  _s();\n  const [listData, setListData] = useState([{\n    id: \"001\",\n    name: \"初始数据1\",\n    checked: false\n  }, {\n    id: \"002\",\n    name: \"初始数据2\",\n    checked: true\n  }, {\n    id: \"003\",\n    name: \"初始数据3\",\n    checked: false\n  }]);\n  const [showAlert, setShowAlert] = useState(false);\n  const [allDone, setAllDone] = useState(false);\n  const [showAll, setShowAll] = useState(true);\n  const [deleteId, setDeleteId] = useState();\n  const [open, setOpen] = useState(false);\n  const notDoneCount = listData.filter(item => !item.checked).length;\n  const handleAddTodo = value => {\n    const id = Date.now().toString();\n    const data = [{\n      id,\n      name: value,\n      checked: false\n    }, ...listData];\n    setAllDone(false);\n    setListData(data);\n  };\n  useEffect(() => {\n    if (allDone) {\n      setTimeout(() => {\n        setShowAlert(false);\n      }, 3000);\n    }\n  }, [allDone]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrap\",\n    children: [allDone && showAlert ? /*#__PURE__*/_jsxDEV(Alert, {\n      sx: {\n        marginBottom: \"10px\"\n      },\n      icon: /*#__PURE__*/_jsxDEV(CheckIcon, {\n        fontSize: \"inherit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this),\n      severity: \"info\",\n      children: \"All Active Completed !\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(TodoInput, {\n      onEnter: value => handleAddTodo(value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TodoList, {\n      todos: !showAll ? listData.filter(item => !item.checked) : listData,\n      handleDone: id => {\n        const newListData = listData.map(item => {\n          if (item.id === id) {\n            item.checked = true;\n          }\n          return item;\n        });\n        const doneCount = newListData.filter(item => item.checked).length;\n        const isAll = doneCount === newListData.length;\n        if (isAll) {\n          setShowAlert(true);\n        }\n        setAllDone(isAll);\n        setListData(newListData);\n      },\n      handleDelete: id => {\n        setDeleteId(id);\n        setOpen(true);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [notDoneCount.toString(), \" items left\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => {\n          setShowAll(!showAll);\n        },\n        children: showAll ? \"Clear Completed\" : \"Show All\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: () => setOpen(false),\n      \"aria-labelledby\": \"alert-dialog-title\",\n      \"aria-describedby\": \"alert-dialog-description\",\n      children: [/*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          id: \"alert-dialog-description\",\n          children: \"Are you sure you want to delete it ?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setOpen(false),\n          children: \"Cancle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => {\n            const newListData = listData.filter(item => item.id !== deleteId);\n            setListData(newListData);\n            setDeleteId(null);\n          },\n          autoFocus: true,\n          children: \"Confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(Index, \"Psq0w/A8iwRplu7ybXGEz/C2oZQ=\");\n_c = Index;\nexport default Index;\nvar _c;\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"names":["React","useEffect","useState","Button","Alert","Dialog","DialogActions","DialogContent","DialogContentText","CheckIcon","TodoInput","TodoList","jsxDEV","_jsxDEV","Index","_s","listData","setListData","id","name","checked","showAlert","setShowAlert","allDone","setAllDone","showAll","setShowAll","deleteId","setDeleteId","open","setOpen","notDoneCount","filter","item","length","handleAddTodo","value","Date","now","toString","data","setTimeout","className","children","sx","marginBottom","icon","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","severity","onEnter","todos","handleDone","newListData","map","doneCount","isAll","handleDelete","onClick","onClose","autoFocus","_c","$RefreshReg$"],"sources":["/Users/venus/Downloads/Code/todo/src/todo/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Button, Alert, Dialog, DialogActions, DialogContent, DialogContentText } from \"@mui/material\";\nimport CheckIcon from \"@mui/icons-material/Check\";\nimport TodoInput from \"./TodoInput\";\nimport TodoList from \"./TodoList\";\nimport { ToDoItemProps } from \"./index.d\";\nimport \"./index.css\";\n\nconst Index = () => {\n  const [listData, setListData] = useState<ToDoItemProps[]>([\n    {\n      id: \"001\",\n      name: \"初始数据1\",\n      checked: false,\n    },\n    {\n      id: \"002\",\n      name: \"初始数据2\",\n      checked: true,\n    },\n    {\n      id: \"003\",\n      name: \"初始数据3\",\n      checked: false,\n    },\n  ]);\n  const [showAlert, setShowAlert] = useState<boolean>(false);\n  const [allDone, setAllDone] = useState<boolean>(false);\n  const [showAll, setShowAll] = useState<boolean>(true);\n  const [deleteId, setDeleteId] = useState<string | null>();\n  const [open, setOpen] = useState<boolean>(false);\n\n  const notDoneCount = listData.filter((item) => !item.checked).length;\n  const handleAddTodo = (value: string) => {\n    const id = Date.now().toString();\n    const data = [\n      {\n        id,\n        name: value,\n        checked: false,\n      },\n      ...listData,\n    ];\n    setAllDone(false);\n    setListData(data);\n  };\n  useEffect(() => {\n    if (allDone) {\n      setTimeout(() => {\n        setShowAlert(false);\n      }, 3000);\n    }\n  }, [allDone]);\n  return (\n    <div className=\"wrap\">\n      {allDone && showAlert ? (\n        <Alert\n          sx={{ marginBottom: \"10px\" }}\n          icon={<CheckIcon fontSize=\"inherit\" />}\n          severity=\"info\"\n        >\n          All Active Completed !\n        </Alert>\n      ) : null}\n\n      <TodoInput onEnter={(value: string) => handleAddTodo(value)} />\n      <TodoList\n        todos={!showAll ? listData.filter((item) => !item.checked) : listData}\n        handleDone={(id: string) => {\n          const newListData = listData.map((item) => {\n            if (item.id === id) {\n              item.checked = true;\n            }\n            return item;\n          });\n          const doneCount = newListData.filter((item) => item.checked).length;\n\n          const isAll = doneCount === newListData.length;\n          if (isAll) {\n            setShowAlert(true);\n          }\n          setAllDone(isAll);\n\n          setListData(newListData);\n        }}\n        handleDelete={(id: string) => {\n          setDeleteId(id);\n          setOpen(true);\n        }}\n      />\n      <div className=\"info\">\n        <div>{notDoneCount.toString()} items left</div>\n\n        <Button\n          onClick={() => {\n            setShowAll(!showAll);\n          }}\n        >\n          {showAll ? \"Clear Completed\" : \"Show All\"}\n        </Button>\n      </div>\n\n\n      <Dialog\n        open={open}\n        onClose={() => setOpen(false)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            Are you sure you want to delete it ?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setOpen(false)}>Cancle</Button>\n          <Button onClick={() => {\n            const newListData = listData.filter((item) => item.id !== deleteId);\n            setListData(newListData);\n            setDeleteId(null);\n          }} autoFocus>\n            Confirm\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default Index;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}